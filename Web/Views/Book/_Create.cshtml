<div class="modal fade" tabindex="-1" id="loginModal"
     data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    ×
                </button>
                <h4 class="modal-title">Create a book</h4>
            </div>
            <div class="modal-body">
                @using (Ajax.BeginForm("Create", new AjaxOptions { UpdateTargetId = "results" }))
                {
                    <div class="form-group">
                        <label for="Name">Book Name:</label>
                        <input class="form-control" type="text" id="Name" name="Name" placeholder="Select Book Name" />
                    </div>

                    <div class="form-group">
                        <label for="ReleaseDate">Release Date:</label>
                        <input class="form-control" type="date" id="ReleaseDate" name="ReleaseDate">
                    </div>

                    <div class="form-group">
                        <label for="Authors">Authors:</label>
                        <select class="form-control" id="AuthorIds" name="AuthorIds" multiple="multiple">
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="Rate">Rate:</label>
                        <input class="form-control" type="number" id="Rate" name="Rate" min="1" max="10" placeholder="Select Rate [1..10]">
                    </div>

                    <div class="form-group">
                        <label for="PageNumber">Page Number:</label>
                        <input class="form-control" type="number" id="PageNumber" name="PageNumber" min="1" max="10000" placeholder="Select Page Number">
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">
                            Create
                        </button>
                        <button type="button" id="btnHideModal" class="btn btn-primary button button4">
                            Close
                        </button>
                    </div>
                }
            </div>
        </div>
    </div>
</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script type="text/javascript">
    $(document).ready(function () {
        var authors = [];
        $.ajax({
            cache: false,
            url: '@Url.Action("GetAuthors", "Author")',
            type: 'GET',
            success: function (result) {
                authors = result;

                $.each(authors, function (index, value) {
                    $('#AuthorIds').append(
                        '<option value="' + authors[index].Id + '">' + authors[index].Text + '</option>'
                    );
                });
            }
        });

        $('#AuthorIds').select2({
            placeholder: 'Select authors'
        });
    });
</script>
